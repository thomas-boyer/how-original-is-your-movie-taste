{"version":3,"sources":["components/Header.js","components/MoviePanel.js","components/Search.js","components/MovieList.js","components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["Header","react_default","a","createElement","MoviePanel","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this2","Close_default","className","onClick","removeMovie","movie","image","poster_path","alt","concat","original_title","src","key","id","tabIndex","release_date","slice","removable","renderRemoveButton","Component","Search","renderNoSuggestions","autoFocus","value","type","placeholder","onChange","val","handleChange","renderSuggestions","suggestions","map","suggestion","components_MoviePanel","onSelectMovie","setState","target","sendApiRequest","tmdbJson","tmdbResults","data","results","axios","get","params","api_key","process","query","tmdbRequest","length","MovieList","movies","recommendations","targetIndex","indexOf","splice","onDeleteMovie","movieList","dupesAllowed","prevProps","prevState","renderMovies","Footer","App","recommendationsList","selectedMovies","renderEnabledSearch","analyzeMovies","ratingsArray","vote_average","popularityArray","popularity","idArray","recommendationsArray","ratingsScores","rating","ratingsScoresTotal","i","popularityScores","popularityScoresTotal","recommendationsScore","j","k","returnedScore","totalScore","result","bind","assertThisInitialized","recommendationsRequest","selectedMovie","includes","toConsumableArray","components_Search","_this3","_this4","components_Header","components_Footer","renderDisabledSearch","renderEnabledSubmit","renderDisabledSubmit","components_MovieList","renderResultBox","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5beba01d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header()\r\n{\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<h1>How original is your movie taste?</h1>\r\n\t\t\t<h2>(Select five to ten of your favourite movies by using the searchbar below.)</h2>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport Close from '@material-ui/icons/Close';\r\n\r\nclass MoviePanel extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trenderRemoveButton()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<Close className=\"close\" onClick={() => this.props.removeMovie(this.props.movie)}/>\r\n\t\t)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tlet image = (this.props.movie.poster_path ? \r\n\t\t\t\t\t<div><img alt={`Poster for ${this.props.movie.original_title}`}\r\n\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200/${this.props.movie.poster_path}`} /></div> :\r\n\t\t\t\t\t<div className=\"imagePlaceholder\"></div>);\r\n\t\treturn (\r\n\t\t\t<div key={this.props.movie.id} className=\"moviePanel flexContainer\" tabIndex=\"0\" onClick={this.props.onClick}>\r\n\t\t\t\t\t\t{image}\r\n\t\t\t\t\t\t<div className=\"details\">\r\n\t\t\t\t\t\t\t<p>{this.props.movie.original_title}</p>\r\n\t\t\t\t\t\t\t<p>{this.props.movie.release_date.slice(0,4)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.props.removable ? this.renderRemoveButton() : <span></span> }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default MoviePanel;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport MoviePanel from './MoviePanel.js';\r\n\r\n\r\nclass Search extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state =\r\n\t\t{\r\n\t\t\tvalue: \"\",\r\n\t\t\tsuggestions: []\r\n\t\t};\r\n\t}\r\n\r\n\trenderNoSuggestions = () =>\r\n\t{\r\n\t\treturn (\r\n\t\t\t<input autoFocus value={this.state.value} type=\"search\" placeholder=\"Start typing a movie title...\" onChange={(val) => this.handleChange(val)}></input>\r\n\t\t)\r\n\t}\r\n\r\n\trenderSuggestions = () =>\r\n\t{\r\n\t\tconst suggestions = this.state.suggestions.map((suggestion) =>\r\n\t\t{\r\n\t\t\treturn ( <MoviePanel movie={suggestion} key={suggestion.id} removable={false} onClick={() =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.onSelectMovie(suggestion);\r\n\r\n\t\t\t\t\tthis.setState(\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\tsuggestions: []\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}}/> );\r\n\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<input autoFocus value={this.state.value} type=\"search\" placeholder=\"Start typing a movie title...\" onChange={(val) => this.handleChange(val)}></input>\r\n\t\t\t\t<div className=\"suggestions\">{suggestions}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tasync handleChange(val)\r\n\t{\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tvalue: val.target.value\r\n\t\t\t});\r\n\r\n\t\tif (val.target.value)\r\n\t\t{\r\n\t\t\tlet tmdbJson = await this.sendApiRequest(val.target.value);\r\n\r\n\t\t\tlet tmdbResults = tmdbJson.data.results;\r\n\r\n\t\t\tthis.setState({ suggestions: tmdbResults });\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tsuggestions: []\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tasync sendApiRequest(val)\r\n\t{\r\n\t\tconst tmdbRequest = await axios.get(\"https://api.themoviedb.org/3/search/movie\",\r\n\t\t\t{\r\n\t\t\t\tparams:\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tapi_key: process.env.REACT_APP_API_KEY,\r\n\t\t\t\t\t\tquery: val\r\n\t\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\treturn tmdbRequest;\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<section className=\"search\">\r\n\t\t\t\t{ this.state.suggestions.length ? this.renderSuggestions() : this.renderNoSuggestions() }\r\n\t\t\t</section>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport MoviePanel from './MoviePanel.js';\r\n\r\nclass MovieList extends Component\r\n{\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state =\r\n\t\t{\r\n\t\t\tmovies: [],\r\n\t\t\trecommendations: []\r\n\t\t};\r\n\t}\r\n\r\n\trenderMovies()\r\n\t{\r\n\t\tconst movieList = this.state.movies.map((movie) =>\r\n\t\t{\r\n\t\t\treturn ( <MoviePanel movie={movie} movieList={this.props.movies} key={movie.id} removable={true} dupesAllowed={false} removeMovie={this.removeMovie}/> )\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"movieList\">{movieList}</div>\r\n\t\t);\r\n\t}\r\n\r\n\tremoveMovie = (movie) =>\r\n\t{\r\n\t\tlet movies = this.state.movies;\r\n\t\tlet recommendations = this.state.recommendations;\r\n\r\n\t\tlet targetIndex = movies.indexOf(movie);\r\n\t\tmovies.splice(targetIndex, 1);\r\n\t\trecommendations.splice(targetIndex, 1);\r\n\r\n\t\tthis.setState({movies: movies, recommendations: recommendations});\r\n\t\tthis.props.onDeleteMovie(this.state.movies, this.state.recommendations);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState)\r\n\t{\r\n\t\tif (this.props.movies !== prevProps.movies)\r\n\t\t{\r\n\t\t\tthis.setState({movies: this.props.movies, recommendations: this.props.recommendations});\r\n\t\t};\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<section className=\"movieList\">\r\n\t\t\t\t{this.renderMovies()}\r\n\t\t\t</section>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default MovieList;","import React from 'react';\r\n\r\nfunction Footer()\r\n{\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<p> &copy; 2019 Thomas Boyer</p>\r\n\t\t</footer>\r\n\t)\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\nimport Header from './components/Header.js';\nimport Search from './components/Search.js';\nimport MovieList from './components/MovieList.js';\nimport Close from '@material-ui/icons/Close';\nimport Footer from './components/Footer.js';\nimport axios from 'axios';\nimport './styles/App.css';\n\nclass App extends Component {\n\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.onSelectMovie = this.onSelectMovie.bind(this);\n\t\tthis.state =\n\t\t{\n\t\t\tselectedMovies: [],\n\t\t\trecommendations: [],\n\t\t\tresult: \"\"\n\t\t}\n\t}\n\n\tasync sendApiRequest(movie)\n\t{\n\t\tconst recommendationsRequest = await axios.get(`https://api.themoviedb.org/3/movie/${movie.id}/recommendations`,\n\t\t{\n\t\t\tparams:\n\t\t\t\t{ \n\t\t\t\t\tapi_key: process.env.REACT_APP_API_KEY\n\t\t\t\t}\n\t\t});\n\t\treturn recommendationsRequest;\n\t}\n\n\tasync onSelectMovie(movie)\n\t{\n\t\tif (!this.state.selectedMovies\n\t\t\t.map((selectedMovie) => { return selectedMovie.id }).includes(movie.id))\n\t\t{\n\t\t\tlet recommendationsRequest = await this.sendApiRequest(movie);\n\n\t\t\tlet recommendations = recommendationsRequest.data.results.map((movie) => {return movie.id});\n\n\t\t\tthis.setState( () =>\n\t\t\t{\n\t\t\t\tlet movieList = [...this.state.selectedMovies, movie];\n\t\t\t\tlet recommendationsList = [...this.state.recommendations, recommendations];\n\t\t\t\treturn {selectedMovies: movieList, recommendations: recommendationsList}\n\t\t\t});\n\t\t}\n\t};\n\n\tonDeleteMovie = (movieList, recommendationsList) =>\n\t{\n\t\tthis.setState({selectedMovies: movieList, recommendations: recommendationsList});\n\t\tthis.renderEnabledSearch();\n\t}\n\n\trenderEnabledSearch()\n\t{\n\t\treturn (\n\t\t\t<Search onSelectMovie={this.onSelectMovie} className=\"search leftColumn flexItem\"/>\n\t\t)\n\t}\n\n\trenderDisabledSearch()\n\t{\n\t\treturn ( <div className=\"search leftColumn flexItem\"></div> )\n\t}\n\n\trenderEnabledSubmit()\n\t{\n\t\treturn (\n\t\t\t<input type=\"submit\" value=\"Go!\" className=\"submit\" onClick={() => this.analyzeMovies()}></input>\n\t\t)\n\t}\n\n\trenderDisabledSubmit()\n\t{\n\t\treturn (\n\t\t\t<span></span>\n\t\t)\n\t}\n\n\tanalyzeMovies = () =>\n\t{\n\t\tlet ratingsArray = this.state.selectedMovies.map( (movie) => movie.vote_average);\n\t\tlet popularityArray = this.state.selectedMovies.map( (movie) => movie.popularity);\n\t\tlet idArray = this.state.selectedMovies.map( (movie) => movie.id);\n\t\tlet recommendationsArray = this.state.recommendations;\n\n\t\tlet ratingsScores = ratingsArray.map( (rating) =>\n\t\t\t{\n\t\t\t\tif (rating >= 8) return 10;\n\t\t\t\telse if (rating >= 7.5) return 9;\n\t\t\t\telse if (rating >= 7) return 8;\n\t\t\t\telse if (rating >= 6.5) return 7;\n\t\t\t\telse if (rating >= 6) return 6;\n\t\t\t\telse if (rating >= 5.5) return 5;\n\t\t\t\telse if (rating >= 5) return 4;\n\t\t\t\telse if (rating >= 4.5) return 3;\n\t\t\t\telse if (rating >= 4) return 2;\n\t\t\t\telse if (rating >= 3.5) return 1;\n\t\t\t\telse return 0;\n\t\t\t});\n\n\t\tlet ratingsScoresTotal = 0;\n\t\tfor (let i = 0; i < ratingsScores.length; i++)\n\t\t{\n\t\t\tratingsScoresTotal += ratingsScores[i];\n\t\t}\n\t\t\n\t\tlet popularityScores = popularityArray.map( (popularity) =>\n\t\t\t{\n\t\t\t\tif (popularity >= 21.3) return 10;\n\t\t\t\telse if (popularity >= 16.6) return 9;\n\t\t\t\telse if (popularity >= 13.35) return 8;\n\t\t\t\telse if (popularity >= 11.75) return 7;\n\t\t\t\telse if (popularity >= 10.1) return 6;\n\t\t\t\telse if (popularity >= 8.9) return 5;\n\t\t\t\telse if (popularity >= 7.85) return 4;\n\t\t\t\telse if (popularity >= 7.05) return 3;\n\t\t\t\telse if (popularity >= 6.35) return 2;\n\t\t\t\telse if (popularity >= 5.85) return 1;\n\t\t\t\telse return 0;\n\t\t\t});\n\n\t\tlet popularityScoresTotal = 0;\n\t\tfor (let i = 0; i < popularityScores.length; i++)\n\t\t{\n\t\t\tpopularityScoresTotal += popularityScores[i];\n\t\t}\n\t\t\n\t\tlet recommendationsScore = 0;\n\t\tfor (let i = 0; i < recommendationsArray.length; i++)\n\t\t{\n\t\t\tfor (let j = 0; j < recommendationsArray[i].length; j++)\n\t\t\t{\n\t\t\t\tfor (let k = 0; k < idArray.length; k++)\n\t\t\t\t{\n\t\t\t\t\tif (idArray[k] === recommendationsArray[i][j])\n\t\t\t\t\t{\n\t\t\t\t\t\trecommendationsScore++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet totalScore = ((0.4 * ratingsScoresTotal) + (0.25 * popularityScoresTotal) + \n\t\t\t(0.6 * recommendationsScore)) / idArray.length;\n\t\t\n\t\tlet returnedScore;\n\t\tif (totalScore >= 8) returnedScore = \"Very Unoriginal\";\n\t\telse if (totalScore >= 6) returnedScore = \"Somewhat Unoriginal\";\n\t\telse if (totalScore >= 4) returnedScore = \"Somewhat Original\";\n\t\telse if (totalScore >= 3) returnedScore = \"Very Original\";\n\t\telse returnedScore = \"Extremely Original\";\n\n\t\tthis.setState({result: returnedScore});\n\t}\n\n\trenderResultBox()\n\t{\n\t\treturn (\n\t\t\t<div className=\"resultBackground\">\n\t\t\t\t<div className=\"resultBox\">\n\t\t\t\t\t<p className=\"resultHeader\">Your movie taste is...</p>\n\t\t\t\t\t<p className=\"result\">{this.state.result}!</p>\n\t\t\t\t\t<Close className=\"close\" onClick={() => this.setState({ result: \"\" })}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Header />\n\t\t\t\t<Footer />\n\t\t\t\t<main>\n\t\t\t\t\t{ this.state.selectedMovies.length < 10 ? this.renderEnabledSearch() : this.renderDisabledSearch() }\n\t\t\t\t\t<div className=\"rightColumn\">\n\t\t\t\t\t\t{ this.state.selectedMovies.length >= 5 ? this.renderEnabledSubmit() : this.renderDisabledSubmit() }\n\t\t\t\t\t\t<MovieList movies={this.state.selectedMovies} recommendations={this.state.recommendations} onDeleteMovie={this.onDeleteMovie}/>\t\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t\t{ this.state.result ? this.renderResultBox() : <span></span> }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}