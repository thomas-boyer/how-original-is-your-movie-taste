(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(53),i=n.n(s),o=(n(60),n(31)),c=n(5),l=n.n(c),u=n(15),m=n(6),v=n(7),h=n(9),d=n(8),p=n(10),f=n(17);var g=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"How original is your movie taste?"),r.a.createElement("h2",null,"(Select five to ten of your favourite movies by using the searchbar below.)"))},b=n(25),E=n.n(b),y=n(26),k=n.n(y),S=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(v.a)(t,[{key:"renderRemoveButton",value:function(){var e=this;return r.a.createElement(k.a,{className:"close",onClick:function(){return e.props.removeMovie(e.props.movie)}})}},{key:"render",value:function(){var e=this.props.movie.poster_path?r.a.createElement("div",null,r.a.createElement("img",{alt:"Poster for ".concat(this.props.movie.original_title),src:"https://image.tmdb.org/t/p/w200/".concat(this.props.movie.poster_path)})):r.a.createElement("div",{className:"imagePlaceholder"});return r.a.createElement("div",{key:this.props.movie.id,className:"moviePanel flexContainer",tabIndex:"0",onClick:this.props.onClick},e,r.a.createElement("div",{className:"details"},r.a.createElement("p",null,this.props.movie.original_title),r.a.createElement("p",null,this.props.movie.release_date.slice(0,4))),this.props.removable?this.renderRemoveButton():r.a.createElement("span",null))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).renderNoSuggestions=function(){return r.a.createElement("input",{autoFocus:!0,value:n.state.value,type:"search",placeholder:"Start typing a movie title...",onChange:function(e){return n.handleChange(e)}})},n.renderSuggestions=function(){var e=n.state.suggestions.map(function(e){return r.a.createElement(S,{movie:e,key:e.id,removable:!1,onClick:function(){n.props.onSelectMovie(e),n.setState({value:"",suggestions:[]})}})});return r.a.createElement("div",null,r.a.createElement("input",{autoFocus:!0,value:n.state.value,type:"search",placeholder:"Start typing a movie title...",onChange:function(e){return n.handleChange(e)}}),r.a.createElement("div",{className:"suggestions"},e))},n.state={value:"",suggestions:[]},n}return Object(p.a)(t,e),Object(v.a)(t,[{key:"handleChange",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({value:t.target.value}),!t.target.value){e.next=9;break}return e.next=4,this.sendApiRequest(t.target.value);case 4:n=e.sent,a=n.data.results,this.setState({suggestions:a}),e.next=10;break;case 9:this.setState({suggestions:[]});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendApiRequest",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:"a6e621753eaf6af7cffa2b99809ea117",query:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("section",{className:"search"},this.state.suggestions.length?this.renderSuggestions():this.renderNoSuggestions())}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).removeMovie=function(e){var t=n.state.movies,a=n.state.recommendations,r=t.indexOf(e);t.splice(r,1),a.splice(r,1),n.setState({movies:t,recommendations:a}),n.props.onDeleteMovie(n.state.movies,n.state.recommendations)},n.state={movies:[],recommendations:[]},n}return Object(p.a)(t,e),Object(v.a)(t,[{key:"renderMovies",value:function(){var e=this,t=this.state.movies.map(function(t){return r.a.createElement(S,{movie:t,movieList:e.props.movies,key:t.id,removable:!0,dupesAllowed:!1,removeMovie:e.removeMovie})});return r.a.createElement("div",{className:"movieList"},t)}},{key:"componentDidUpdate",value:function(e,t){this.props.movies!==e.movies&&this.setState({movies:this.props.movies,recommendations:this.props.recommendations})}},{key:"render",value:function(){return r.a.createElement("section",{className:"movieList"},this.renderMovies())}}]),t}(a.Component);var j=function(){return r.a.createElement("footer",null,r.a.createElement("p",null," \xa9 2019 Thomas Boyer"))},w=(n(165),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).onDeleteMovie=function(e,t){n.setState({selectedMovies:e,recommendations:t}),n.renderEnabledSearch()},n.analyzeMovies=function(){for(var e=n.state.selectedMovies.map(function(e){return e.vote_average}),t=n.state.selectedMovies.map(function(e){return e.popularity}),a=n.state.selectedMovies.map(function(e){return e.id}),r=n.state.recommendations,s=e.map(function(e){return e>=8?10:e>=7.5?9:e>=7?8:e>=6.5?7:e>=6?6:e>=5.5?5:e>=5?4:e>=4.5?3:e>=4?2:e>=3.5?1:0}),i=0,o=0;o<s.length;o++)i+=s[o];for(var c=t.map(function(e){return e>=21.3?10:e>=16.6?9:e>=13.35?8:e>=11.75?7:e>=10.1?6:e>=8.9?5:e>=7.85?4:e>=7.05?3:e>=6.35?2:e>=5.85?1:0}),l=0,u=0;u<c.length;u++)l+=c[u];for(var m=0,v=0;v<r.length;v++)for(var h=0;h<r[v].length;h++)for(var d=0;d<a.length;d++)a[d]===r[v][h]&&m++;var p,f=(.4*i+.25*l+.6*m)/a.length;p=f>=8?"Very Unoriginal":f>=6?"Somewhat Unoriginal":f>=4?"Somewhat Original":f>=3?"Very Original":"Extremely Original",n.setState({result:p})},n.onSelectMovie=n.onSelectMovie.bind(Object(f.a)(Object(f.a)(n))),n.state={selectedMovies:[],recommendations:[],result:""},n}return Object(p.a)(t,e),Object(v.a)(t,[{key:"sendApiRequest",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/movie/".concat(t.id,"/recommendations"),{params:{api_key:"a6e621753eaf6af7cffa2b99809ea117"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"onSelectMovie",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var n,a,r=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.selectedMovies.map(function(e){return e.id}).includes(t.id)){e.next=6;break}return e.next=3,this.sendApiRequest(t);case 3:n=e.sent,a=n.data.results.map(function(e){return e.id}),this.setState(function(){return{selectedMovies:[].concat(Object(o.a)(r.state.selectedMovies),[t]),recommendations:[].concat(Object(o.a)(r.state.recommendations),[a])}});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderEnabledSearch",value:function(){return r.a.createElement(O,{onSelectMovie:this.onSelectMovie,className:"search leftColumn flexItem"})}},{key:"renderDisabledSearch",value:function(){return r.a.createElement("div",{className:"search leftColumn flexItem"})}},{key:"renderEnabledSubmit",value:function(){var e=this;return r.a.createElement("input",{type:"submit",value:"Go!",className:"submit",onClick:function(){return e.analyzeMovies()}})}},{key:"renderDisabledSubmit",value:function(){return r.a.createElement("span",null)}},{key:"renderResultBox",value:function(){var e=this;return r.a.createElement("div",{className:"resultBackground"},r.a.createElement("div",{className:"resultBox"},r.a.createElement("p",{className:"resultHeader"},"Your movie taste is..."),r.a.createElement("p",{className:"result"},this.state.result,"!"),r.a.createElement(k.a,{className:"close",onClick:function(){return e.setState({result:""})}})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(j,null),r.a.createElement("main",null,this.state.selectedMovies.length<10?this.renderEnabledSearch():this.renderDisabledSearch(),r.a.createElement("div",{className:"rightColumn"},this.state.selectedMovies.length>=5?this.renderEnabledSubmit():this.renderDisabledSubmit(),r.a.createElement(M,{movies:this.state.selectedMovies,recommendations:this.state.recommendations,onDeleteMovie:this.onDeleteMovie}))),this.state.result?this.renderResultBox():r.a.createElement("span",null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,n){e.exports=n(166)},60:function(e,t,n){}},[[55,1,2]]]);
//# sourceMappingURL=main.5beba01d.chunk.js.map